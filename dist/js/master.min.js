var master=function(){function a(){$("#btnLoadHotels").click(t)}function e(){$(".ToggleReviews").click(r)}function t(){var a,t=$("#Results");$.get("http://fake-hotel-api.herokuapp.com/api/hotels?count=5",function(i){$(t).html(""),$.each(i,function(e,i){a=s(i),$(t).append(a)}),e()}).fail(function(e){var s=JSON.parse(e.responseText).error;a=i(s),$(t).html(a)})}function s(a){return"<article id="+a.id+" class='HotelItem'><div class='ContentHost'><div class='HotelImage' style='background-image: url("+a.images[0]+")'><img alt='Image of "+a.name+"' src='"+a.images[0]+"'/></div><div class='HotelInfoWrapper'><header class='ItemHeader'><div class='HotelMainInfo'><h1 class='HotelName'>"+a.name+"</h1><h2 class='Location'>"+a.city+" - "+a.country+"</h2></div><div class='Rating'><span class='StarsAsText'>"+a.stars+"*</span>"+n(a.stars)+"</div></header><p class='Description'>"+a.description+"</p><footer class='ItemFooter'><div class='PriceAndDate'><p class='OfferPrice'>"+a.price+" &euro;</p><p class='OfferDate'>"+o(a.date_start)+" - "+o(a.date_end)+"</p></div><div class='ButtonHost'><button type='button' class='Btn ToggleReviews' data-id='"+a.id+"' data-action='show'>Show reviews</button></div></footer></div></div></aticle>"}function i(a){return"<article class='ErrorMessageHost'><h3 class='ErrorMessage'><span class='ErrorMessageIcon fa fa-exclamation-triangle' aria-hidden='true'></span><span class='ErrorMessageText'>"+a+"</span></h3></article>"}function n(a){var e=5-a,t="";for(star=0;star<a;star++)t+="<span class='Star fa fa-star' aria-hidden='true'></span>";for(star=0;star<e;star++)t+="<span class='Blank fa fa-star-o' aria-hidden='true'></span>";return t}function o(a){var e=new Date(a);return e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()}function r(){var a=$(this).data("action"),e=$(this).data("id"),t=$("#"+e);if("show"===a){$(this).data("action","hide").text("Hide reviews"),$(t).append("<div class='ReviewsHost'></div>");var s=$(t).find(".ReviewsHost");$.get("http://fake-hotel-api.herokuapp.com/api/reviews?hotel_id="+e,function(a){var e;$.each(a,function(a,t){e=c(t),$(s).append(e)})})}else $(t).find(".ReviewsHost").remove(),$(this).data("action","show").text("Show reviews")}function c(a){var e=a.positive?"plus":"minus";return"<section class='ReviewItem "+e+"'><div class='Mood'><span class='MoodIcon fa fa-"+e+"'></span></div><div class='Content'><h3 class='ReviewerName'>"+a.name+"</h3><p class='ReviewComment'>"+a.comment+"</p></div></section>"}return{init:function(){a()}}}();$(function(){master.init()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL21hc3Rlci5qcyJdLCJuYW1lcyI6WyJtYXN0ZXIiLCJfYmluZEV2ZW50c0luaXQiLCIkIiwiY2xpY2siLCJfbG9hZEhvdGVscyIsIl9iaW5kRXZlbnRzSG90ZWwiLCJfdG9nZ2xlUmV2aWV3cyIsIml0ZW0iLCJ1aUhvc3QiLCJnZXQiLCJkYXRhIiwiaHRtbCIsImVhY2giLCJrZXkiLCJ2YWwiLCJfcmVuZGVySXRlbSIsImFwcGVuZCIsImZhaWwiLCJlcnJvck1zZyIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImVycm9yIiwiX3JlbmRlckVycm9yTWVzc2FnZSIsImlkIiwiaW1hZ2VzIiwibmFtZSIsImNpdHkiLCJjb3VudHJ5Iiwic3RhcnMiLCJfcmVuZGVyU3RhcnMiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiX2Zvcm1hdERhdGUiLCJkYXRlX3N0YXJ0IiwiZGF0ZV9lbmQiLCJtZXNzYWdlIiwic3RhcnNDb3VudCIsImJsYW5rcyIsInN0YXJzTWFya3VwIiwic3RhciIsImlzb0RhdGUiLCJyYXdEYXRlIiwiRGF0ZSIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwiYWN0aW9uIiwidGhpcyIsImhvdGVsSXRlbSIsInRleHQiLCJyZXZpZXdzSG9zdCIsImZpbmQiLCJyZXZpZXdJdGVtIiwidmFsdWUiLCJfcmVuZGVyUmV2aWV3IiwicmVtb3ZlIiwibW9vZENsYXNzIiwicG9zaXRpdmUiLCJjb21tZW50IiwiaW5pdCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQUEsT0FBQSxXQVFBLFNBQUFDLElBQ0FDLEVBQUEsa0JBQUFDLE1BQUFDLEdBSUEsU0FBQUMsSUFDQUgsRUFBQSxrQkFBQUMsTUFBQUcsR0FJQSxTQUFBRixJQUNBLElBQ0FHLEVBREFDLEVBQUFOLEVBQUEsWUFHQUEsRUFBQU8sSUFBQSx5REFBQSxTQUFBQyxHQUNBUixFQUFBTSxHQUFBRyxLQUFBLElBQ0FULEVBQUFVLEtBQUFGLEVBQUEsU0FBQUcsRUFBQUMsR0FDQVAsRUFBQVEsRUFBQUQsR0FDQVosRUFBQU0sR0FBQVEsT0FBQVQsS0FFQUYsTUFFQVksS0FBQSxTQUFBUCxHQUNBLElBQ0FRLEVBREFDLEtBQUFDLE1BQUFWLEVBQUFXLGNBQ0FDLE1BRUFmLEVBQUFnQixFQUFBTCxHQUNBaEIsRUFBQU0sR0FBQUcsS0FBQUosS0FLQSxTQUFBUSxFQUFBUixHQUNBLE1BQUEsZUFBQUEsRUFBQWlCLEdBQUEsb0dBSUFqQixFQUFBa0IsT0FBQSxHQUFBLHlCQUNBbEIsRUFBQW1CLEtBQUEsVUFBQW5CLEVBQUFrQixPQUFBLEdBQUEsc0hBT0FsQixFQUFBbUIsS0FBQSw2QkFDQW5CLEVBQUFvQixLQUFBLE1BQUFwQixFQUFBcUIsUUFBQSw0REFHQXJCLEVBQUFzQixNQUFBLFdBQ0FDLEVBQUF2QixFQUFBc0IsT0FDQSx5Q0FJQXRCLEVBQUF3QixZQUFBLGtGQUtBeEIsRUFBQXlCLE1BQUEsbUNBRUFDLEVBQUExQixFQUFBMkIsWUFBQSxNQUFBRCxFQUFBMUIsRUFBQTRCLFVBQ0EsOEZBR0E1QixFQUFBaUIsR0FBQSxpRkFZQSxTQUFBRCxFQUFBYSxHQUNBLE1BQUEsaUxBR0FBLEVBQUEseUJBTUEsU0FBQU4sRUFBQU8sR0FDQSxJQUFBQyxFQUFBLEVBQUFELEVBQ0FFLEVBQUEsR0FHQSxJQUFBQyxLQUFBLEVBQUFBLEtBQUFILEVBQUFHLE9BQ0FELEdBQUEsMkRBSUEsSUFBQUMsS0FBQSxFQUFBQSxLQUFBRixFQUFBRSxPQUNBRCxHQUFBLDhEQUdBLE9BQUFBLEVBSUEsU0FBQU4sRUFBQVEsR0FDQSxJQUFBQyxFQUFBLElBQUFDLEtBQUFGLEdBQ0EsT0FBQUMsRUFBQUUsVUFBQSxLQUFBRixFQUFBRyxXQUFBLEdBQUEsSUFBQUgsRUFBQUksY0FJQSxTQUFBeEMsSUFDQSxJQUFBeUMsRUFBQTdDLEVBQUE4QyxNQUFBdEMsS0FBQSxVQUNBYyxFQUFBdEIsRUFBQThDLE1BQUF0QyxLQUFBLE1BQ0F1QyxFQUFBL0MsRUFBQSxJQUFBc0IsR0FFQSxHQUFBLFNBQUF1QixFQUFBLENBQ0E3QyxFQUFBOEMsTUFBQXRDLEtBQUEsU0FBQSxRQUFBd0MsS0FBQSxnQkFDQWhELEVBQUErQyxHQUFBakMsT0FBQSxtQ0FDQSxJQUFBbUMsRUFBQWpELEVBQUErQyxHQUFBRyxLQUFBLGdCQUVBbEQsRUFBQU8sSUFBQSw0REFBQWUsRUFBQSxTQUFBZCxHQUNBLElBQUEyQyxFQUNBbkQsRUFBQVUsS0FBQUYsRUFBQSxTQUFBRyxFQUFBeUMsR0FDQUQsRUFBQUUsRUFBQUQsR0FDQXBELEVBQUFpRCxHQUFBbkMsT0FBQXFDLFlBS0FuRCxFQUFBK0MsR0FBQUcsS0FBQSxnQkFBQUksU0FDQXRELEVBQUE4QyxNQUFBdEMsS0FBQSxTQUFBLFFBQUF3QyxLQUFBLGdCQU1BLFNBQUFLLEVBQUFoRCxHQUNBLElBQUFrRCxFQUFBbEQsRUFBQW1ELFNBQUEsT0FBQSxRQUVBLE1BQUEsOEJBQUFELEVBQUEsbURBRUFBLEVBQUEsZ0VBR0FsRCxFQUFBbUIsS0FBQSxpQ0FDQW5CLEVBQUFvRCxRQUFBLHVCQUtBLE9BQ0FDLEtBOUpBLFdBQ0EzRCxNQUpBLEdBc0tBQyxFQUFBLFdBQ0FGLE9BQUE0RCIsImZpbGUiOiJqcy9tYXN0ZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hc3RlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIC8vIEluaXRpYWxpemUgc2NyaXB0XHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIF9iaW5kRXZlbnRzSW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEJpbmQgZXZlbnRzIGZvciB0aGUgZWxlbWVudHMgaW5pdGlhbHkgcmVuZGVyZWQgb24gdGhlIHBhZ2VcclxuICAgIGZ1bmN0aW9uIF9iaW5kRXZlbnRzSW5pdCgpIHtcclxuICAgICAgICAkKFwiI2J0bkxvYWRIb3RlbHNcIikuY2xpY2soX2xvYWRIb3RlbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEJpbmQgZXZlbnRzIGZvciB0aGUgZWxlbWVudHMgcmVuZGVyZWQgb24gZGVtYW5kXHJcbiAgICBmdW5jdGlvbiBfYmluZEV2ZW50c0hvdGVsKCkge1xyXG4gICAgICAgICQoXCIuVG9nZ2xlUmV2aWV3c1wiKS5jbGljayhfdG9nZ2xlUmV2aWV3cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTG9hZCBob3RlbHNcclxuICAgIGZ1bmN0aW9uIF9sb2FkSG90ZWxzKCkge1xyXG4gICAgICAgIHZhciB1aUhvc3QgPSAkKFwiI1Jlc3VsdHNcIik7IFxyXG4gICAgICAgIHZhciBpdGVtO1xyXG5cclxuICAgICAgICAkLmdldChcImh0dHA6Ly9mYWtlLWhvdGVsLWFwaS5oZXJva3VhcHAuY29tL2FwaS9ob3RlbHM/Y291bnQ9NVwiLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICQodWlIb3N0KS5odG1sKFwiXCIpO1xyXG4gICAgICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oa2V5LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0gPSBfcmVuZGVySXRlbSh2YWwpO1xyXG4gICAgICAgICAgICAgICAgJCh1aUhvc3QpLmFwcGVuZChpdGVtKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgX2JpbmRFdmVudHNIb3RlbCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZhaWwoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBKU09OLnBhcnNlKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgdmFyIGVycm9yTXNnID0gcmVzcG9uc2UuZXJyb3I7XHJcblxyXG4gICAgICAgICAgICBpdGVtID0gX3JlbmRlckVycm9yTWVzc2FnZShlcnJvck1zZyk7XHJcbiAgICAgICAgICAgICQodWlIb3N0KS5odG1sKGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbmRlciBob3RlbCBpdGVtXHJcbiAgICBmdW5jdGlvbiBfcmVuZGVySXRlbShpdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuICBcIjxhcnRpY2xlIGlkPVwiKyBpdGVtLmlkICtcIiBjbGFzcz0nSG90ZWxJdGVtJz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdDb250ZW50SG9zdCc+XCIgK1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG90ZWwgaW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdIb3RlbEltYWdlJyBzdHlsZT0nYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgaXRlbS5pbWFnZXNbMF0gKyBcIiknPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGltZyBhbHQ9J0ltYWdlIG9mIFwiICsgaXRlbS5uYW1lICsgXCInIHNyYz0nXCIrIGl0ZW0uaW1hZ2VzWzBdICtcIicvPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8L2Rpdj5cIiArXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J0hvdGVsSW5mb1dyYXBwZXInPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlYWRlciA9IE5hbWUsIExvY2F0aW9uLCBSYXRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGhlYWRlciBjbGFzcz0nSXRlbUhlYWRlcic+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nSG90ZWxNYWluSW5mbyc+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxoMSBjbGFzcz0nSG90ZWxOYW1lJz5cIiArIGl0ZW0ubmFtZSArIFwiPC9oMT5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGgyIGNsYXNzPSdMb2NhdGlvbic+XCIgKyBpdGVtLmNpdHkgKyBcIiAtIFwiICsgaXRlbS5jb3VudHJ5ICsgXCI8L2gyPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwvZGl2PlwiICsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdSYXRpbmcnPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBjbGFzcz0nU3RhcnNBc1RleHQnPlwiICsgaXRlbS5zdGFycyArIFwiKjwvc3Bhbj5cIiArIC8vIFRoaXMgbGluZSBpcyBub3QgdmlzaWJsZSBpbiBicm93c2VyLCBidXQgaXQncyB0aGVyZSBmb3Igc2VtYXRpY3MgYmVjYXVzZSBmb250IGF3ZXNvbWUgaWNvbnMgZG8gbm90IHRlbGwgYW55dGhpbmcgdG8gcm9ib3RzIGFuZCBzY3JlZW4gcmVhZGVycyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlbmRlclN0YXJzKGl0ZW0uc3RhcnMpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPC9oZWFkZXI+XCIgK1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxwIGNsYXNzPSdEZXNjcmlwdGlvbic+XCIgKyBpdGVtLmRlc2NyaXB0aW9uICsgXCI8L3A+XCIgK1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvb3RlciA9IFByaWNlLCBEYXRlLCBMb2FkIHJldmlld3MgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxmb290ZXIgY2xhc3M9J0l0ZW1Gb290ZXInPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J1ByaWNlQW5kRGF0ZSc+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxwIGNsYXNzPSdPZmZlclByaWNlJz5cIiArIGl0ZW0ucHJpY2UgKyBcIiAmZXVybzs8L3A+XCIgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8cCBjbGFzcz0nT2ZmZXJEYXRlJz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZm9ybWF0RGF0ZShpdGVtLmRhdGVfc3RhcnQpICsgXCIgLSBcIiArIF9mb3JtYXREYXRlKGl0ZW0uZGF0ZV9lbmQpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8L3A+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nQnV0dG9uSG9zdCc+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nQnRuIFRvZ2dsZVJldmlld3MnIGRhdGEtaWQ9J1wiICsgaXRlbS5pZCArIFwiJyBkYXRhLWFjdGlvbj0nc2hvdyc+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTaG93IHJldmlld3NcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPC9idXR0b24+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8L2Zvb3Rlcj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPC9kaXY+XCIgK1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBcIjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgIFwiPC9hdGljbGU+XCJcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW5kZXIgZXJyb3IgbWVzc2FnZVxyXG4gICAgZnVuY3Rpb24gX3JlbmRlckVycm9yTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuICBcIjxhcnRpY2xlIGNsYXNzPSdFcnJvck1lc3NhZ2VIb3N0Jz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8aDMgY2xhc3M9J0Vycm9yTWVzc2FnZSc+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxzcGFuIGNsYXNzPSdFcnJvck1lc3NhZ2VJY29uIGZhIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9zcGFuPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBjbGFzcz0nRXJyb3JNZXNzYWdlVGV4dCc+XCIgKyBtZXNzYWdlICsgXCI8L3NwYW4+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPC9oMz5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjwvYXJ0aWNsZT5cIlxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbmRlciBzdGFyc1xyXG4gICAgZnVuY3Rpb24gX3JlbmRlclN0YXJzKHN0YXJzQ291bnQpe1xyXG4gICAgICAgIHZhciBibGFua3MgPSA1IC0gc3RhcnNDb3VudDtcclxuICAgICAgICB2YXIgc3RhcnNNYXJrdXAgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyBBZGQgcmF0aW5nIHN0YXJzXHJcbiAgICAgICAgZm9yIChzdGFyID0gMDsgc3RhciA8IHN0YXJzQ291bnQ7IHN0YXIrKykge1xyXG4gICAgICAgICAgICBzdGFyc01hcmt1cCArPSBcIjxzcGFuIGNsYXNzPSdTdGFyIGZhIGZhLXN0YXInIGFyaWEtaGlkZGVuPSd0cnVlJz48L3NwYW4+XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgYmxhbmsgc3RhcnMgdG8gbWF0Y2ggNSogZm9ybWF0XHJcbiAgICAgICAgZm9yIChzdGFyID0gMDsgc3RhciA8IGJsYW5rczsgc3RhcisrKSB7XHJcbiAgICAgICAgICAgIHN0YXJzTWFya3VwICs9IFwiPHNwYW4gY2xhc3M9J0JsYW5rIGZhIGZhLXN0YXItbycgYXJpYS1oaWRkZW49J3RydWUnPjwvc3Bhbj5cIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdGFyc01hcmt1cFxyXG4gICAgfVxyXG5cclxuICAgIC8vIEZvcmFtdCBkYXRlXHJcbiAgICBmdW5jdGlvbiBfZm9ybWF0RGF0ZShpc29EYXRlKSB7XHJcbiAgICAgICAgdmFyIHJhd0RhdGUgPSBuZXcgRGF0ZShpc29EYXRlKTtcclxuICAgICAgICByZXR1cm4gcmF3RGF0ZS5nZXREYXRlKCkgKyBcIi5cIiArIChyYXdEYXRlLmdldE1vbnRoKCkgKyAxKSArIFwiLlwiICsgcmF3RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRvZ2dsZSByZXZpZXdzXHJcbiAgICBmdW5jdGlvbiBfdG9nZ2xlUmV2aWV3cygpIHtcclxuICAgICAgICB2YXIgYWN0aW9uID0gJCh0aGlzKS5kYXRhKFwiYWN0aW9uXCIpO1xyXG4gICAgICAgIHZhciBpZCA9ICQodGhpcykuZGF0YShcImlkXCIpO1xyXG4gICAgICAgIHZhciBob3RlbEl0ZW0gPSAkKFwiI1wiICtpZCk7XHJcblxyXG4gICAgICAgIGlmIChhY3Rpb24gPT09IFwic2hvd1wiKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuZGF0YShcImFjdGlvblwiLCBcImhpZGVcIikudGV4dChcIkhpZGUgcmV2aWV3c1wiKTtcclxuICAgICAgICAgICAgJChob3RlbEl0ZW0pLmFwcGVuZChcIjxkaXYgY2xhc3M9J1Jldmlld3NIb3N0Jz48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgIHZhciByZXZpZXdzSG9zdCA9ICQoaG90ZWxJdGVtKS5maW5kKFwiLlJldmlld3NIb3N0XCIpO1xyXG5cclxuICAgICAgICAgICAgJC5nZXQoXCJodHRwOi8vZmFrZS1ob3RlbC1hcGkuaGVyb2t1YXBwLmNvbS9hcGkvcmV2aWV3cz9ob3RlbF9pZD1cIitpZCwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmV2aWV3SXRlbTtcclxuICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV2aWV3SXRlbSA9IF9yZW5kZXJSZXZpZXcodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICQocmV2aWV3c0hvc3QpLmFwcGVuZChyZXZpZXdJdGVtKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChob3RlbEl0ZW0pLmZpbmQoXCIuUmV2aWV3c0hvc3RcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQodGhpcykuZGF0YShcImFjdGlvblwiLCBcInNob3dcIikudGV4dChcIlNob3cgcmV2aWV3c1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbmRlciByZXZpZXcgaXRlbVxyXG4gICAgZnVuY3Rpb24gX3JlbmRlclJldmlldyhpdGVtKSB7XHJcbiAgICAgICAgdmFyIG1vb2RDbGFzcyA9IGl0ZW0ucG9zaXRpdmUgPyBcInBsdXNcIiA6IFwibWludXNcIjtcclxuXHJcbiAgICAgICAgcmV0dXJuICBcIjxzZWN0aW9uIGNsYXNzPSdSZXZpZXdJdGVtIFwiICsgbW9vZENsYXNzICsgXCInPlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J01vb2QnPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBjbGFzcz0nTW9vZEljb24gZmEgZmEtXCIgKyBtb29kQ2xhc3MgKyBcIic+PC9zcGFuPlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjwvZGl2PlwiICsgXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdDb250ZW50Jz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGgzIGNsYXNzPSdSZXZpZXdlck5hbWUnPlwiICsgaXRlbS5uYW1lICsgXCI8L2gzPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8cCBjbGFzcz0nUmV2aWV3Q29tbWVudCc+XCIgKyBpdGVtLmNvbW1lbnQgKyBcIjwvcD5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjwvc2VjdGlvbj5cIlxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdDogaW5pdFxyXG4gICAgfVxyXG5cclxufSgpO1xyXG5cclxuJChmdW5jdGlvbigpe1xyXG4gICAgbWFzdGVyLmluaXQoKTtcclxufSk7Il19
